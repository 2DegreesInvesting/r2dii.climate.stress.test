<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>04 - Understand the output files of the transition risk stress test • r2dii.climate.stress.test</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="04 - Understand the output files of the transition risk stress test">
<meta property="og:description" content="r2dii.climate.stress.test">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">r2dii.climate.stress.test</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/00-prerequisites.html">00 - Prerequisites</a>
    </li>
    <li>
      <a href="../articles/01-setup-project-directories.html">01 - Set up project directories for the  1in1000 model suite</a>
    </li>
    <li>
      <a href="../articles/02-run-stress-test.html">02 - Run transition (or litigation) risk stress test</a>
    </li>
    <li>
      <a href="../articles/03-advanced-data-settings.html">03 - Improve stress test by providing further project specific data</a>
    </li>
    <li>
      <a href="../articles/04-read-the-outputs.html">04 - Understand the output files of the transition risk stress test</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>04 - Understand the output files of the
transition risk stress test</h1>
            
      
      
      <div class="hidden name"><code>04-read-the-outputs.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="reading-and-understanding-the-output-files">Reading and understanding the output files<a class="anchor" aria-label="anchor" href="#reading-and-understanding-the-output-files"></a>
</h2>
<p>This vignette gives a brief overview of the files that are generated
by the climate transition risk stress test provided in
<code>r2dii.climate.stress.test</code> and proceeds to explain in depth
how to read the data in each of the files.</p>
<div class="section level3">
<h3 id="overview-of-output-files">Overview of output files<a class="anchor" aria-label="anchor" href="#overview-of-output-files"></a>
</h3>
<p>The source code generates three result (output) files after
completing the transition or litigation risk stress test for a given set
of parameters. They principally contain estimates of the market risk of
companies in the portfolio and of the credit risk of said companies in a
corporate loan book. The source code additionally outputs a log file
which holds information on the settings of the current transition risk
stress test run.</p>
<p>If the user follows the recommended data folder structure the output
files will be found here:</p>
<ul>
<li>
<code>example_project/</code>
<ul>
<li><code>output</code></li>
</ul>
</li>
</ul>
<p>The output files are:</p>
<p><strong>Log file</strong></p>
<ul>
<li>log_file_&lt;suffix&gt;.txt</li>
</ul>
<p><strong>Crispy output</strong></p>
<ul>
<li>crispy_output_&lt;suffix&gt;.csv</li>
</ul>
<p><strong>Company trajectories</strong></p>
<ul>
<li>company_trajectories_&lt;suffix&gt;.csv</li>
</ul>
</div>
<div class="section level3">
<h3 id="content-of-output-files">Content of output files<a class="anchor" aria-label="anchor" href="#content-of-output-files"></a>
</h3>
<p>In this section, we look at each result file and what each of the
variables they contain mean. The set of input parameters, common to all
result files, is described at the end of the following list. Special
attention at the end is also dedicated to the slight differences in the
format of results created from a sensitivity analysis.</p>
<div class="section level4">
<h4 id="log_file_suffix">log_file_&lt;suffix&gt;<a class="anchor" aria-label="anchor" href="#log_file_suffix"></a>
</h4>
<p>This is a text file that contains information on the settings of the
stress test run that created the results files. The user can check on
the:</p>
<ul>
<li>the paths to the input ( <code>input_path_project_</code>) and
output (<code>output_path</code>) directories.</li>
<li>next, a full list of the values of the input parameters for the
stress test analysis <a href="https://2degreesinvesting.github.io/r2dii.climate.stress.test/articles/articles/02-run-stress-test.html#understanding-the-input-arguments">as
described here</a>.</li>
<li>finally, information on the companies that were excluded from the
analysis due to cases of unsuccessful matching of PAMS results on the
company financial data.</li>
</ul>
</div>
<div class="section level4">
<h4 id="crispy_output_suffix">crispy_output_&lt;suffix&gt;<a class="anchor" aria-label="anchor" href="#crispy_output_suffix"></a>
</h4>
<p>This file contains</p>
<ul>
<li>
<code>company_name</code>: Name of the company that was
analyzed.</li>
<li>
<code>sector</code>: Sector of the production assets analyzed.</li>
<li>
<code>business_unit</code>: Name that highlights the use of the
carbon budget.</li>
<li>
<code>company_name</code>: Name of the company that was
analyzed.</li>
<li>
<code>roll_up_type</code>:</li>
<li>
<code>scenario_geography</code>: Region for which the analysis was
run. This refers to the location of assets considered as well as the
regional break down of the scenario targets used.</li>
<li>
<code>baseline_scenario</code>:<br>
</li>
<li>
<code>shock_scenario</code>:<br>
</li>
<li>
<code>ldg</code>:<br>
</li>
<li>
<code>risk_free</code>:</li>
<li>
<code>discount_rate</code>:</li>
<li>
<code>dividend_rate</code>:</li>
<li>
<code>growth_rate</code>:</li>
<li>
<code>shock_year</code>:</li>
<li>
<code>net_present_value_baseline</code>:</li>
<li>
<code>net_present_value_shock</code>:</li>
<li>
<code>net_present_value_difference</code>:</li>
<li>
<code>term</code>:</li>
<li>
<code>pd_baseline</code>: Probability of default under the baseline
scenario.</li>
<li>
<code>pd_shock</code>: Probability of default under the shock
scenario.</li>
<li>
<code>pd_difference</code>:</li>
</ul>
</div>
<div class="section level4">
<h4 id="company_trajectories_suffix">company_trajectories_&lt;suffix&gt;<a class="anchor" aria-label="anchor" href="#company_trajectories_suffix"></a>
</h4>
<p>This result file contains</p>
<ul>
<li>
<code>scenario_name</code>: Name that highlights the use of the
carbon budget compensation mechanism and the year of the introduction of
a transition policy.</li>
<li>
<code>company_name</code>: Name of the company that was
analyzed.</li>
<li>
<code>year</code>: Calendar year.<br>
</li>
<li>
<code>scenario_geography</code>: Region for which the analysis was
run. This refers to the location of assets considered as well as the
regional break down of the scenario targets used.</li>
<li>
<code>ald_sector</code>: Sector of the production assets
analyzed.</li>
<li>
<code>ald_business_unit</code>: The ald_business_unit can be
understood as a sub-sector. These must be in line with the technologies,
for which the scenarios provide production pathways.</li>
<li>
<code>production_plan_company_technology</code>:</li>
<li>
<code>phase_out</code>:</li>
<li>
<code>production_baseline_scenario</code>:</li>
<li>
<code>production_target_scenario</code>:</li>
<li>
<code>production_shock_scenario</code>:</li>
<li>
<code>company_id</code>: Unique company number, based on an Asset
Resolution classification.</li>
<li>
<code>pd</code>: Probability of default.</li>
<li>
<code>net_profit_margin</code>:</li>
<li>
<code>debt_equity_ratio</code>:</li>
<li>
<code>volatility</code>:</li>
<li>
<code>price_baseline_scenario</code>:</li>
<li>
<code>price_shock_scenario</code>:</li>
<li>
<code>net_profits_baseline_scenario</code>:</li>
<li>
<code>net_profits_shock_scenario</code>: Net Profits of a company
under shock scenario.</li>
<li>
<code>discounted_net_profits_baseline_scenario</code>: Discounted
net profits of a company under baseline scenario.</li>
<li>
<code>discounted_net_profits_shock_scenario</code>: Discounted net
profits of a company under shock scenario.</li>
<li>
<code>baseline_scenario_arg</code>: Name of the baseline
scenario.</li>
<li>
<code>shock_scenario_arg</code>: Name of the Shock scenario.</li>
<li>
<code>lgd_arg</code>: Loss given default applied in the calculation
of the expected loss. *<code>risk_free_rate_arg</code> the risk free
interest rate. Input parameter to the Merton credit risk model.</li>
<li>
<code>discount_rate_arg</code> the annual rate at which future cash
flows are discounted when calculating the net present value of companies
in the loan book. Since the net present values are indirect inputs into
the Merton credit risk model, this parameter my be relevant.</li>
<li>
<code>growth_rate_arg</code> the perpetual ‘economic’ growth rate
used in the discounted cash flow model for the calculation of terminal
value of each firm in end_year + 1. Must be positive and strictly
smaller than discount_rate.</li>
<li>
<code>div_netprofit_prop_coef_arg</code> coefficient that indicates
what share of the net present value should be considered to derive the
equity value of a company.</li>
<li>
<code>shock_year_arg</code> year in which the policy is introduced,
that adjusts the production values of companies to stay in line with
carbon budgets.</li>
<li>
<code>scenario_geography_arg</code>:</li>
<li>
<code>start_year_arg</code>:</li>
</ul>
<p>While there may be some redundancy to this information, it is there
to ensure the results remain reproducible and straightforward for the
user to understand given magnitudes in the model results. In the
standard run of the stress test, with a single value specified for each
input parameter, this implies that the argument columns just contain one
value each (as opposed to sensitivity analysis where the user can set
multiples values of input parameters).</p>
</div>
<div class="section level4">
<h4 id="sensitivity-analyses">Sensitivity Analyses<a class="anchor" aria-label="anchor" href="#sensitivity-analyses"></a>
</h4>
<p>Running a sensitivity analysis produces as many sets of results as
the number of input parameters selected for the variable of interest.To
keep the ensuing analysis as simple as possible, the results files are
named with a suffix indicating the parameter that was varied in the
particular run and saved in a new output folder. Apart from the
indicative naming suffix the sensitivity analysis results files produced
have the same format as described above but contain the results of
multiple runs in a single file.</p>
<p>The variation is observed in the argument column of the parameter
that was iterated over. Instead of just one value, it will contain
values for every iteration of the sensitivity analysis, be it two or
more.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jacob Kastl, Franziska Fischer, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
