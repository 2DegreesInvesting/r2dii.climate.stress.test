<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Function reference â€¢ r2dii.climate.stress.test</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Function reference"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-index">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">r2dii.climate.stress.test</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/00-prerequisites.html">00 - Prerequisites</a>
    </li>
    <li>
      <a href="../articles/01-setup-project-directories.html">01 - Set up project directories for the  1in1000 model suite</a>
    </li>
    <li>
      <a href="../articles/02-run-stress-test.html">02 - Run transition (or litigation) risk stress test</a>
    </li>
    <li>
      <a href="../articles/03-advanced-data-settings.html">03 - Improve stress test by providing further project specific data</a>
    </li>
    <li>
      <a href="../articles/04-read-the-outputs.html">04 - Understand the output files of the transition risk stress test</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Reference</h1>
    </div>

    <table class="ref-index"><colgroup><col class="alias"><col class="title"></colgroup><tbody><tr><th colspan="2">
          <h2 id="all-functions">All functions <a href="#all-functions" class="anchor" aria-hidden="true"></a></h2>
          <p class="section-desc"></p>
        </th>
      </tr></tbody><tbody><tr><td>
          <p><code><a href="asset_value_at_risk.html">asset_value_at_risk()</a></code> </p>
        </td>
        <td><p>Calculate percentage value change between scenarios for equity (and
temporarily other asset types) on the portfolio level</p></td>
      </tr><tr><td>
          <p><code><a href="calc_late_sudden_traj.html">calc_late_sudden_traj()</a></code> </p>
        </td>
        <td><p>Calculate how the production trajectory for a company/ald_business_unit changes
after the policy shock hits.</p></td>
      </tr><tr><td>
          <p><code><a href="calc_scenario_prices.html">calc_scenario_prices()</a></code> </p>
        </td>
        <td><p>Calculate scenario prices</p></td>
      </tr><tr><td>
          <p><code><a href="calc_survival_probability_merton.html">calc_survival_probability_merton()</a></code> </p>
        </td>
        <td><p>Calculate survival probability</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_annual_profits.html">calculate_annual_profits()</a></code> </p>
        </td>
        <td><p>Calculate annual profits</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_lrisk_trajectory.html">calculate_lrisk_trajectory()</a></code> </p>
        </td>
        <td><p>Calculate litigation shock trajectory</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_net_profits.html">calculate_net_profits()</a></code> </p>
        </td>
        <td><p>Calculates annual net profits on the company-ald_business_unit level for the
baseline and late and sudden scenarios. Climate laggards which need to build
out their production in increasing technologies to compensate for their
missed targets, are "punished" by adjusting the net profit margin on their
additional build out based on their proximity to target within the given
ald_business_unit. Specifically, we measure the ratio of how much of the required
build out or reduction in a ald_business_unit the company will have done at the end
of the forecast period. If the ald_business_unit has an increasing target and the
ratio of completion is below one, the net_profit_margin on the additional
production build out is multiplied with the proximity to the target. This
approximates the additional capital investment such a company would have to
make in a short time, which leads to added costs. This ensures that late
build out will not proportionally translate into increased profits.</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_net_profits_baseline.html">calculate_net_profits_baseline()</a></code> </p>
        </td>
        <td><p>Calculates annual net profits on the company-ald_business_unit level for the baseline scenario</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_net_profits_shock_declining_technologies.html">calculate_net_profits_shock_declining_technologies()</a></code> </p>
        </td>
        <td><p>Calculates annual net profits on the company-ald_business_unit level for the shock scenario for declining technologies</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_net_profits_shock_declining_technologies_carbon_tax.html">calculate_net_profits_shock_declining_technologies_carbon_tax()</a></code> </p>
        </td>
        <td><p>Calculates annual net profits on the company-ald_business_unit level for the
baseline and late and sudden scenarios - with a carbon tax being added.</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_net_profits_shock_increasing_technologies.html">calculate_net_profits_shock_increasing_technologies()</a></code> </p>
        </td>
        <td><p>Calculates annual net profits on the company-ald_business_unit level for the shock scenario for increasing technologies.
Climate laggards which need to build out their production in increasing technologies to compensate for their
missed targets, are "punished" by adjusting the net profit margin on their
additional build out based on their proximity to target within the given
ald_business_unit. Specifically, we measure the ratio of how much of the required
build out or reduction in a ald_business_unit the company will have done at the end
of the forecast period. If the ald_business_unit has an increasing target and the
ratio of completion is below one, the net_profit_margin on the additional production build out
is multiplied with the proximity to the target. This approximates the additional capital investment
such a company would have to make in a short time, which leads to added costs. This ensures that late
build out will not proportionally translate into increased profits.</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_net_profits_without_carbon_tax.html">calculate_net_profits_without_carbon_tax()</a></code> </p>
        </td>
        <td><p>Calculates annual net profits on the company-ald_business_unit level for the
baseline and late and sudden scenarios - without a carbon tax being added.</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_pd_change_overall.html">calculate_pd_change_overall()</a></code> </p>
        </td>
        <td><p>Calculate change in probabilities of default (PDs) of loans connected to
companies at hand. This is based on the equity values derived from the DCF
model. Said Equity values are used as different starting points for the
Merton model (one reflecting the business as usual baseline scenario, the
other reflecting the late &amp; sudden shock scenario). The change in PDs can
then be used to calculate the Expected Loss due to the shock on the portfolio
level.</p></td>
      </tr><tr><td>
          <p><code><a href="calculate_trisk_trajectory.html">calculate_trisk_trajectory()</a></code> </p>
        </td>
        <td><p>Calculate transition shock trajectory</p></td>
      </tr><tr><td>
          <p><code><a href="check_expected_missings.html">check_expected_missings()</a></code> </p>
        </td>
        <td><p>Check expected missing patterns</p></td>
      </tr><tr><td>
          <p><code><a href="check_financial_data.html">check_financial_data()</a></code> </p>
        </td>
        <td><p>Check financial data</p></td>
      </tr><tr><td>
          <p><code><a href="check_level_availability.html">check_level_availability()</a></code> </p>
        </td>
        <td><p>Check that required levels of a variable are available in data</p></td>
      </tr><tr><td>
          <p><code><a href="check_results.html">check_results()</a></code> </p>
        </td>
        <td><p>Check results</p></td>
      </tr><tr><td>
          <p><code><a href="check_sector_tech_mapping.html">check_sector_tech_mapping()</a></code> </p>
        </td>
        <td><p>Check that sector to ald_business_unit mapping corresponds to template</p></td>
      </tr><tr><td>
          <p><code><a href="check_valid_financial_data_values.html">check_valid_financial_data_values()</a></code> </p>
        </td>
        <td><p>Check if values in financial data are plausible</p></td>
      </tr><tr><td>
          <p><code><a href="company_technology_asset_value_at_risk.html">company_technology_asset_value_at_risk()</a></code> </p>
        </td>
        <td><p>Calculate percentage value change between scenarios for equity (and
temporarily other asset types) on the company-ald_business_unit level</p></td>
      </tr><tr><td>
          <p><code><a href="convert_cap_to_generation.html">convert_cap_to_generation()</a></code> </p>
        </td>
        <td><p>Translate power capacity to power generation. Units of generated power are
assumed to be sold and hence get priced in the net profit calculations.
This also entails converting MWh into MW per year, since we calculate yearly
profits.</p></td>
      </tr><tr><td>
          <p><code><a href="convert_power_cap_to_generation.html">convert_power_cap_to_generation()</a></code> </p>
        </td>
        <td><p>Translate power capacity to power generation</p></td>
      </tr><tr><td>
          <p><code><a href="customise_output_path.html">customise_output_path()</a></code> </p>
        </td>
        <td><p>Customise output path</p></td>
      </tr><tr><td>
          <p><code><a href="data_path.html">data_path()</a></code> </p>
        </td>
        <td><p>conveniently access stress test related files in the directory set via envvar
or options</p></td>
      </tr><tr><td>
          <p><code><a href="degrees.html">degrees()</a></code> </p>
        </td>
        <td><p>Insert the symbol for degrees</p></td>
      </tr><tr><td>
          <p><code><a href="dividend_discount_model.html">dividend_discount_model()</a></code> </p>
        </td>
        <td><p>Calculates discounted net profits based on a dividends discount model</p></td>
      </tr><tr><td>
          <p><code><a href="dropbox_exists.html">dropbox_exists()</a></code> </p>
        </td>
        <td><p>Does this computer have a local copy of 2dii's dropbox folder?</p></td>
      </tr><tr><td>
          <p><code><a href="fail_if_input_args_are_missing.html">fail_if_input_args_are_missing()</a></code> </p>
        </td>
        <td><p>Checks if input args are missing</p></td>
      </tr><tr><td>
          <p><code><a href="fill_annual_profit_cols.html">fill_annual_profit_cols()</a></code> </p>
        </td>
        <td><p>Fill missing values on annual_profits</p></td>
      </tr><tr><td>
          <p><code><a href="filter_negative_late_and_sudden.html">filter_negative_late_and_sudden()</a></code> </p>
        </td>
        <td><p>Remove negative late and sudden rows</p></td>
      </tr><tr><td>
          <p><code><a href="generate_litigation_shocks.html">generate_litigation_shocks()</a></code> </p>
        </td>
        <td><p>Generate litigation scenario shock from a start year that represents when a
litigation settlement is reached.</p></td>
      </tr><tr><td>
          <p><code><a href="generate_transition_shocks.html">generate_transition_shocks()</a></code> </p>
        </td>
        <td><p>Generate transition scenario shock from a start year that represents when a
large scale climate transition policy is deployed.</p></td>
      </tr><tr><td>
          <p><code><a href="geographies_for_sector.html">geographies_for_sector()</a></code> </p>
        </td>
        <td><p>Obtain available geographies for sector</p></td>
      </tr><tr><td>
          <p><code><a href="get_iter_var.html">get_iter_var()</a></code> </p>
        </td>
        <td><p>Get name of iterator variable</p></td>
      </tr><tr><td>
          <p><code><a href="get_scenario_geography_x_ald_sector.html">get_scenario_geography_x_ald_sector()</a></code> </p>
        </td>
        <td><p>Get scenario_geography_x_ald_sector</p></td>
      </tr><tr><td>
          <p><code><a href="keep_merton_compatible_rows.html">keep_merton_compatible_rows()</a></code> </p>
        </td>
        <td><p>Keep rows that fulfill constraints of the merton model</p></td>
      </tr><tr><td>
          <p><code><a href="lookup.html">credit_type_lookup</a></code> </p>
        </td>
        <td><p>Lookup valid values</p></td>
      </tr><tr><td>
          <p><code><a href="path_dropbox_2dii.html">path_dropbox_2dii()</a></code> </p>
        </td>
        <td><p>Easily access directories in your local copy of 2dii's Dropbox folder</p></td>
      </tr><tr><td>
          <p><code><a href="process_production_data.html">process_production_data()</a></code> </p>
        </td>
        <td><p>Process data of type indicated by function name</p></td>
      </tr><tr><td>
          <p><code><a href="read_capacity_factors_power.html">read_capacity_factors_power()</a></code> </p>
        </td>
        <td><p>Read in power capacity factors from csv and check that all expected columns
are given.</p></td>
      </tr><tr><td>
          <p><code><a href="read_carbon_data.html">read_carbon_data()</a></code> </p>
        </td>
        <td><p>Read in carbon price data from ngfs data</p></td>
      </tr><tr><td>
          <p><code><a href="read_financial_data.html">read_financial_data()</a></code> </p>
        </td>
        <td><p>Read in company financial data processed from eikon exports and AR master data
that contain information on multiple credit risk inputs</p></td>
      </tr><tr><td>
          <p><code><a href="read_price_data.html">read_price_data()</a></code> </p>
        </td>
        <td><p>Read in price data</p></td>
      </tr><tr><td>
          <p><code><a href="read_production_data.html">read_production_data()</a></code> </p>
        </td>
        <td><p>Read in AR PAMS production data.</p></td>
      </tr><tr><td>
          <p><code><a href="read_scenario_data.html">read_scenario_data()</a></code> </p>
        </td>
        <td><p>Read in scenario data</p></td>
      </tr><tr><td>
          <p><code><a href="report_all_duplicate_kinds.html">report_all_duplicate_kinds()</a></code> </p>
        </td>
        <td><p>Checks data for missings and duplicates</p></td>
      </tr><tr><td>
          <p><code><a href="report_company_drops.html">report_company_drops()</a></code> </p>
        </td>
        <td><p>Report dropped companies</p></td>
      </tr><tr><td>
          <p><code><a href="report_dropped_company_names.html">report_dropped_company_names()</a></code> </p>
        </td>
        <td><p>Inner join datasets and report number of dropped rows</p></td>
      </tr><tr><td>
          <p><code><a href="report_duplicates.html">report_duplicates()</a></code> </p>
        </td>
        <td><p>Report duplicate rows</p></td>
      </tr><tr><td>
          <p><code><a href="report_missing_col_combinations.html">report_missing_col_combinations()</a></code> </p>
        </td>
        <td><p>Identify and report missing value combinations</p></td>
      </tr><tr><td>
          <p><code><a href="report_missings.html">report_missings()</a></code> </p>
        </td>
        <td><p>Report missing</p></td>
      </tr><tr><td>
          <p><code><a href="run_lrisk.html">run_lrisk()</a></code> </p>
        </td>
        <td><p>Run stress testing for provided asset type.</p></td>
      </tr><tr><td>
          <p><code><a href="run_trisk.html">run_trisk()</a></code> </p>
        </td>
        <td><p>Run stress testing for provided asset type.</p></td>
      </tr><tr><td>
          <p><code><a href="scenario_for_sector_x_geography.html">scenario_for_sector_x_geography()</a></code> </p>
        </td>
        <td><p>Obtain available scenario_x_source for geography - sector combinations</p></td>
      </tr><tr><td>
          <p><code><a href="set_baseline_trajectory.html">set_baseline_trajectory()</a></code> </p>
        </td>
        <td><p>Defines which scenario values to use for the baseline trajectory in the
stress test.</p></td>
      </tr><tr><td>
          <p><code><a href="set_litigation_trajectory.html">set_litigation_trajectory()</a></code> </p>
        </td>
        <td><p>Defines which scenario values to use for the production trajectory after a
litigation event in the LRISK stress test.</p></td>
      </tr><tr><td>
          <p><code><a href="set_trisk_trajectory.html">set_trisk_trajectory()</a></code> </p>
        </td>
        <td><p>Defines which scenario values to use for the late &amp; sudden trajectory in the
stress test.</p></td>
      </tr><tr><td>
          <p><code><a href="st_process_agnostic.html">st_process_agnostic()</a></code> </p>
        </td>
        <td><p>Process input ST data</p></td>
      </tr><tr><td>
          <p><code><a href="stress_test_arguments.html">stress_test_arguments</a></code> </p>
        </td>
        <td><p>A dataset describing the arguments of <code><a href="../reference/run_trisk.html">run_trisk()</a></code> and <code><a href="../reference/run_lrisk.html">run_lrisk()</a></code></p></td>
      </tr><tr><td>
          <p><code><a href="subtract_settlement.html">subtract_settlement()</a></code> </p>
        </td>
        <td><p>Calculate annual profits after payout of settlement in lrisk</p></td>
      </tr><tr><td>
          <p><code><a href="validate_data_has_expected_cols.html">validate_data_has_expected_cols()</a></code> </p>
        </td>
        <td><p>Validate that a data frame contains expected columns</p></td>
      </tr><tr><td>
          <p><code><a href="validate_file_exists.html">validate_file_exists()</a></code> </p>
        </td>
        <td><p>Validate that a file exists in a given directory</p></td>
      </tr><tr><td>
          <p><code><a href="validate_input_values.html">validate_input_values()</a></code> </p>
        </td>
        <td><p>Check that input values are valid</p></td>
      </tr><tr><td>
          <p><code><a href="validate_values_in_range.html">validate_values_in_range()</a></code> </p>
        </td>
        <td><p>Validate that values are within range</p></td>
      </tr><tr><td>
          <p><code><a href="wrangle_results.html">wrangle_results()</a></code> </p>
        </td>
        <td><p>Wrangle results</p></td>
      </tr><tr><td>
          <p><code><a href="write_stress_test_results.html">write_stress_test_results()</a></code> </p>
        </td>
        <td><p>Write stress test reports to output dir</p></td>
      </tr></tbody></table></div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jacob Kastl, Franziska Fischer, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

