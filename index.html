<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Climate Stress Test for Listed Equity, Corporate Bond and Corporate Loan Portfolios • r2dii.climate.stress.test</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Climate Stress Test for Listed Equity, Corporate Bond and Corporate Loan Portfolios">
<meta property="og:description" content="The package provides functions and workflows for conducting financial
  stress tests of listed equity, corporate bond and corporate loan portfolios.
  It specifically focuses on climate change related risks, such as
  transition/policy risk, litigation risk and physical risk. The methodologies
  develpoped by 2DII focus on forward looking approaches and asset based analyses
  where possible. Some external stress tests are also featured.
  This package is currently in the beta stage and not finalised yet. Changes to
  the methodology will still be made that can and will impact the outcomes of
  the analysis. 
  For more information visit &lt;https://2degrees-investing.org/&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">r2dii.climate.stress.test</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="r2diiclimatestresstest" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#r2diiclimatestresstest" class="anchor"></a>r2dii.climate.stress.test</h1></div>
<!-- badges: start -->

<p>Beta version. More soon…</p>
<p>The goal of r2dii.climate.stress.test is to provide a tool that can be used to conduct what-if climate stress test analyses for financial institutions, supervisors, regulators and other stakeholders. The tool aims at highlighting potential financial risk in especially climate relevant sectors, split by production technology where required. The sectors covered by the 2Dii climate stress test and therefore by this package, follow mostly the logic of the Paris Agreement Capital Transition Assessment (PACTA) tool, but can in principle be adapted to other settings. W.I.P.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"2DegreesInvesting/r2dii.climate.stress.test"</span><span class="op">)</span></code></pre></div>
<p>Tu run most of the analyses, you will need additional auxiliary data, such as scenario data. The specific requirements are outlined below. <strong>TODO</strong></p>
<p>Before running the code on a local machine, set the path to the data files either as an Environment Variable or an R option using:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># shell</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>export ST_DATA_PATH<span class="ot">=</span><span class="st">"&lt;path to data&gt;"</span></span></code></pre></div>
<p>or in R:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span><span class="st">"ST_DATA_PATH"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"path to data"</span></code></pre></div>
<p>Additionally, for running the litigation risk section, you will need access to the pacta-data repository or a similar directory and need to point the analysis to that directory by setting the path to the pacta-data files as an Environment Variable, using:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># shell</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>export PACTA_DATA_PATH<span class="ot">=</span><span class="st">"&lt;path to data&gt;"</span></span></code></pre></div>
<p>Alternatively, setup environmental variables in a user- or project-specific .Renviron file (see <code><a href="https://usethis.r-lib.org/reference/edit.html">usethis::edit_r_environ()</a></code>).</p>
<p><strong>NOTE:</strong></p>
<p>The path passed via the environment variable or option is expected to be an absolute path that points to the top level of the directory that contains the required data. This data directory is, by default, assumed to be an R package or a directory which resembles that structure. If in your case the data is not stored in a directory that resembles an R package with a <code>data-raw</code> folder, you should consider structuring your data directory that way or otherwise you will need to adjust the input to the <code>data_location()</code> function throughout the scripts.</p>
</div>
<div id="scope" class="section level2">
<h2 class="hasAnchor">
<a href="#scope" class="anchor"></a>Scope</h2>
<p>The repository covers climate risk calculations for the following types of risks</p>
<ul>
<li>Transition Risk</li>
<li>Litigation Risk</li>
<li>Physical Risk (future extension)</li>
</ul>
<p>The methods for all of these are currently in the development phase, meaning there are likely going to be changes to the calculations in future releases.</p>
<p>The following financial asset types are currently covered:</p>
<ul>
<li>Listed Equity (EQ)</li>
<li>Corporate Bonds (CB)</li>
<li>Corporate Loans (LBK)</li>
</ul>
<p>Other asset types may be covered in the future.</p>
</div>
<div id="work-flows" class="section level2">
<h2 class="hasAnchor">
<a href="#work-flows" class="anchor"></a>Work flows</h2>
<p>The repository is structured in a way that provides dedicated work flows for each of the risk types and some of the asset types.</p>
<div id="transition-risk-for-listed-equity-and-corporate-bonds" class="section level3">
<h3 class="hasAnchor">
<a href="#transition-risk-for-listed-equity-and-corporate-bonds" class="anchor"></a>Transition Risk for listed equity and corporate bonds</h3>
<div id="methodological-notes" class="section level4">
<h4 class="hasAnchor">
<a href="#methodological-notes" class="anchor"></a>Methodological notes</h4>
<p>The work flow for listed equity and corporate bonds mainly focuses on calculating market risk of portfolios under a late and sudden policy shock that initiates a transition of the real economy from a business as usual pathway toward a sustainable pathway that is aligned with a given climate target.</p>
<p>The process to derive potential losses for the companies in the portfolio and, by extension, for the portfolio itself, is in essence threefold:</p>
<p>1 - Define the impact of the policy shock on production pathways in the real economy over time. This gives production pathways for all affected companies under different scenarios.</p>
<p>2 - Calculate the impact of real economy production scenarios on future profits for all companies in the portfolio. This involves using the production pathways from step 1 and plugging them into profit calculations that account for developments of prices and costs under each of the scenarios over time, then discount these future profits.</p>
<p>3 - Calculate the net present values (NPVs) of companies in the analysis based on discounted future profits from step 2. Comparing the NPVs of companies between scenarios gives us potential changes in company value due the the policy shock.</p>
<p>The exact calculations can be found in the working paper <strong>LINK to working paper</strong></p>
<div id="assumptions" class="section level5">
<h5 class="hasAnchor">
<a href="#assumptions" class="anchor"></a>Assumptions</h5>
<p>There are still a few data gaps, especially on the price and cost structure of certain markets and companies. Here we are using placeholder data. The users can set these inputs themselves, in case they have data that they feel is more accurate for their context of analysis.</p>
<p>Beyond that, we assume that profits are paid out as dividends and that these correspond tp the market value according to some proportionality factor.</p>
</div>
</div>
<div id="required-inputs" class="section level4">
<h4 class="hasAnchor">
<a href="#required-inputs" class="anchor"></a>Required inputs</h4>
<p>In order to calculate the impacts from transition risk on a corporate loan book, the user needs to provide as input:</p>
<p><strong>Parameter settings</strong> to locate the project in st_project_settings.yml</p>
<p><strong>Model parameters</strong> to use in the financial valuation and to select scenarios in model_parameters.yml</p>
<p><strong>PACTA for investors output</strong> at the company or portfolio level.</p>
<p>Information on <strong>initial probabilities of default,</strong> ideally on the individual loan level. If this is unfeasible, it needs to be provided on the technology level based on relevant market data and be merged with the input file accordingly. <strong>OPEN</strong></p>
<p>Information on <strong>LGDs,</strong> ideally on the loan level, but alternatively market averages for each of the technologies. <strong>OPEN</strong></p>
<p><strong>Sector exposures</strong> to the relevant sectors of the analysis. This can be obtained by following the steps in the script calc_loan_book.R in this repository.</p>
<p>Specifications of <strong>transition scenarios</strong> for which to calculate shocks and impacts on the given portfolio. These are provided via a file, transition_scenario_input.csv.</p>
<p>The expected columns are:</p>
<ul>
<li>scenario_name</li>
<li>year_of_shock</li>
<li>overshoot_method</li>
<li>duration_of_shock</li>
<li>use_prod_forecasts_ls</li>
<li>use_prod_forecasts_baseline</li>
<li>… (any technology in use in the analysis)</li>
</ul>
<p><strong>Capacity factors</strong> for the power sector, to transform power capacity into power production. The legacy live version uses the file capacity_factors_WEO_2017.csv.</p>
<p>Output Columns:</p>
<ul>
<li>technology (usually the PACTA sectors with production pathways)</li>
<li>capacity_factor (a number indicating the average power generation per unit of capacity)</li>
<li>scenario_geography (geographic region for which the capacity factors apply)</li>
</ul>
<p>A new version allows using more up to date capacity factors derived from IEA WEO numbers. This is required in order to calculate profits on actual quantities produced, not theoretical capacities.</p>
<p>Output Columns:</p>
<ul>
<li>scenario (transition scenario for which the capacity factors apply)</li>
<li>scenario_geography (geographic region for which the capacity factors apply)</li>
<li>technology (usually the PACTA sectors with production pathways)</li>
<li>year (temporal change of capacity factors)</li>
<li>capacity_factor (a number indicating the average power generation per unit of capacity)</li>
</ul>
<p><strong>Scenario data</strong> that covers production road maps for all technologies that are to be analysed up until 2040. The scenario data need to cover those road maps for the scenarios selected in the parameter files and should follow the structure found in Scenarios_AnalysisInput_YYYY.csv. This data is used to extrapolate the production trajectories for companies beyond the PACTA time frame.</p>
<p><strong>Price data</strong> trajectories found in the file prices_data_YYYYQQ.csv, which contains projections of market prices per technology from the start data of the analysis until the year 2040. This is another required input to obtain profits. This will likely change in the future.</p>
<p><strong>Net profit margins</strong> are loaded via the model_parameters.yml file up until now. This may change in the future.</p>
<p><strong>Excluded companies</strong> in case a specific company-technology combination cannot be covered by the model either due to lack of data on the company side or because of other input data gaps, the combination of caompany_name and technology can be specified to be excluded from risk calculations. Such situations can be relevant for example when a company conducts business predominantly in one country that follows transition policies are laws that are not covered in the regionality of the business as usual and target scenarios. For instance, Germany is phasing out nuclear power in the first half of the 2020s. European and/or global scenarios do not capture this, although it can be seen in the relevant companies’ capex plans. Such situations can lead to unintended behaviour of the model and as such it seems reasonable not to shock this part of the business, especially since we usually model shocks happening beyond this time frame.</p>
<p><strong>Further notes on input data:</strong></p>
<ul>
<li>It is of particular importance that the start year of the analysis is available in the PACTA results, in the scenario data and in the price data. If either data set starts after the start year of the analysis, the work flow will not work.</li>
<li>Equally, the scenarios selected for the analysis must be given in the PACTA results as well as in the scenario data and the price data.</li>
</ul>
</div>
<div id="steps" class="section level4">
<h4 class="hasAnchor">
<a href="#steps" class="anchor"></a>Steps</h4>
<ul>
<li>Initialize project</li>
<li>Load project parameters</li>
<li>Load all project input data</li>
<li>Wrangle input data</li>
<li>Initialise empty results object</li>
<li>Loop over transition scenarios (as defined in transition_scenarios_input.csv), calculating and row-binding results to the results object. Calculation entails:
<ul>
<li>plucking a specific scenario definition from the transition scenarios to obtain model inputs (1)</li>
<li>calculating the corresponding price trajectories (2)</li>
<li>calculating the corresponding production trajectories on the company level (3)</li>
<li>joining the price trajectories to the production trajectories
(3)</li>
<li>joining net profit margins to the production and price trajectories (3)</li>
<li>calculating future net profits for the entire analysis time frame (3)</li>
<li>calculate discounted net profits for the entire analysis time frame, using the DCF model (3)</li>
<li>plucking the portfolio share (plan_carsten) of each company from the pacta data input (4)</li>
<li>calculating value changes and percentage losses per transition scenario, by combining company level DCF output with portfolio share of the corresponding holdings (6)</li>
</ul>
</li>
<li>write company-tech level results to initialized project folder</li>
<li>write portfolio-tech level results to initialized project folder</li>
<li>save graphs to initialized project folder <strong>OPEN</strong>
</li>
</ul>
</div>
<div id="output-files" class="section level4">
<h4 class="hasAnchor">
<a href="#output-files" class="anchor"></a>Output files</h4>
<p>Describe structure and interpretation of output files <strong>OPEN</strong></p>
</div>
</div>
<div id="transition-risk-for-corporate-loan-books" class="section level3">
<h3 class="hasAnchor">
<a href="#transition-risk-for-corporate-loan-books" class="anchor"></a>Transition Risk for corporate loan books</h3>
<div id="methodological-notes-1" class="section level4">
<h4 class="hasAnchor">
<a href="#methodological-notes-1" class="anchor"></a>Methodological notes</h4>
<p>Calculating the transition risk for corporate loan book related to a sudden policy shock differs from the calculation of such a shock for listed equity. The value change of loans is not captured well simply by applying a DCF model. Dedicated credit risk models are required instead. Specifically, we want to quantify the impact of a climate transition shock on the probabilities of default (PD) of the loans at hand. This is a common risk metric for loans and a change in PDs is therefore expected to be of more use to anyone applying this software, then a shock based on changes in market value of the issuing company. The PD can then be used to derive impacts on the value of a loan book, by plugging the changed PD into an expected loss (EL) calculation, which is in its fundamental form defined as:</p>
<p>EL = PD * LGD * EAD</p>
<p>… with LGD being the loss given default (percentage loss) and EAD the exposure at default (value of the loan in absolute currency in the loan book at hand).</p>
<p>In our case, we aim at using a structural model. Data constraints are a limiting factor with regard to using company level information that would normally go into a case by case rating of credit worthiness. Hence, we use the Merton model, which requires as inputs the asset value in t = 0 (A_0) and the debt value (D) of the company at hand. The debt value is assumed constant over time, the asset value in t = 0 is derived as A_0 = E_0 (equity value in t = 0) * D. We further need the volatility of the equity value, the risk free rate and the term structure as inputs.</p>
<p>The outcome of the Merton model is a PD contingent to the inputs described above. For us, the value of interest is not an absolute PD as a direct outcome of the model, but rather how the PD changes between a baseline scenario and a late and sudden scenario that represents a disorderly transition after a policy shock. We therefore keep all inputs equal except the valuations under those two scenarios. We model a PD under the baseline scenario and another PD under a late and sudden scenario and calculate the change in PDs for the given set of parameters. This will result in a change in PDs that does not reflect the magnitude of the equity and debt values and can therefore be applied as a shock factor on PDs that banks may have calculated with a different model themselves:</p>
<p>PD_change = PD_late_sudden - PD_baseline</p>
<p>PD_change is a value in percentage points and can be used to calculate the change in expected loss due to the late and sudden transition to a less carbon-intensive economy. For the expected loss calculation, this would mean we calculate:</p>
<p>EL_late_sudden = (PD_0 + PD_change) * LGD * EAD</p>
<p>where PD_0 is the probability of default for a loan prior to the shock as provided by the user. If no such data is available on the loan level, it may be an option to use sector or technology level averages as starting points.</p>
<div id="assumptions-1" class="section level5">
<h5 class="hasAnchor">
<a href="#assumptions-1" class="anchor"></a>Assumptions</h5>
<ul>
<li>For E_0, we use the discounted values derived from the DCF model we use to calculate changes in market value. This builds on the capex plans of the companies in the calculation of the future profits that are used in the DCF model. We therefore get different company values for the business as usual and the late and sudden cases, which we can use to differentiate the scenarios in the credit risk calculation.</li>
<li>For D, we currently use sectoral equity-debt ratios and thus derive the value from the equity value of the business as usual scenario. The current values in use are mock values for test purposes that need to be replaced with empirical values. This may become a user input option in the future. <strong>OPEN</strong>
</li>
<li>For volatility, we currently use a fixed value of 0.2. The current value in use is a mock value for test purposes that needs to be replaced with empirical values. This may become a user input option in the future. <strong>OPEN</strong>
</li>
<li>The risk free rate is currently set at 0.05. The current value in use is a mock value for test purposes that needs to be replaced with empirical values. We will switch to a default value that uses the yield of US Treasury 10 year bonds. This may become a user input option in the future. <strong>OPEN</strong>
</li>
<li>In each transition scenario, the PD changes are calculated in two ways. Once, we calculate for PD changes for loans of 1 year maturity only, but on an annual basis until the end of the analysis period. In this case, the input equity values will always just consider one year of discounted future profits - the one related to the year that the specific maturity refers to. Secondly, we calculate the PD change for maturities between 1 and 5 years in yearly steps considering the entire time frame from the start year of the analysis. This means that the full NPV is considered in calculating the starting equity values. This calculation can be used for the expected loss calculation, so that the term structure of a portfolio is adequately rfelected. Maturities larger than 5 years are grouped in the 5 year maturity bucket.</li>
<li>On a technical level, we use implementation of the Merton model from the CreditRisk R package, which is described in more detail here: <a href="https://cran.r-project.org/web/packages/CreditRisk/CreditRisk.pdf" class="uri">https://cran.r-project.org/web/packages/CreditRisk/CreditRisk.pdf</a>
</li>
</ul>
</div>
</div>
<div id="required-inputs-1" class="section level4">
<h4 class="hasAnchor">
<a href="#required-inputs-1" class="anchor"></a>Required inputs</h4>
<p>In order to calculate the impacts from transition risk on a corporate loan book, the user needs to provide as input:</p>
<p><strong>Parameter settings</strong> to locate the project in st_project_settings.yml</p>
<p><strong>Model parameters</strong> to use in the financial valuation and to select scenarios in model_parameters.yml</p>
<p><strong>PACTA for banks output</strong> at the company level, enriched with <strong>company level loan shares.</strong> This can be created by following the steps in the script calc_loan_book.R in this repository. For more information on how to use PACTA for banks, consult: <a href="https://2degreesinvesting.github.io/r2dii.match/" class="uri">https://2degreesinvesting.github.io/r2dii.match/</a> and <a href="https://2degreesinvesting.github.io/r2dii.analysis/index.html" class="uri">https://2degreesinvesting.github.io/r2dii.analysis/index.html</a></p>
<p>Information on <strong>initial probabilities of default,</strong> ideally on the individual loan level. If this is unfeasible, it needs to be provided on the technology level based on relevant market data and be merged with the input file accordingly. <strong>OPEN</strong></p>
<p>Information on <strong>LGDs,</strong> ideally on the loan level, but alternatively market averages for each of the technologies. <strong>OPEN</strong></p>
<p><strong>Sector exposures</strong> to the relevant sectors of the analysis. This can be obtained by following the steps in the script calc_loan_book.R in this repository.</p>
<p>Specifications of <strong>transition scenarios</strong> for which to calculate shocks and impacts on the given portfolio. These are provided via a file, transition_scenario_input.csv</p>
<p>The expected columns are:</p>
<ul>
<li>scenario_name</li>
<li>year_of_shock</li>
<li>overshoot_method</li>
<li>duration_of_shock</li>
<li>use_prod_forecasts_ls</li>
<li>use_prod_forecasts_baseline</li>
<li>… (any technology in use in the analysis)</li>
</ul>
<p><strong>Capacity factors</strong> for the power sector, to transform power capacity into power production. The legacy live version uses the file capacity_factors_WEO_2017.csv.</p>
<p>Output Columns:</p>
<ul>
<li>technology (usually the PACTA sectors with production pathways)</li>
<li>capacity_factor (a number indicating the average power generation per unit of capacity)</li>
<li>scenario_geography (geographic region for which the capacity factors apply)</li>
</ul>
<p>A new version allows using more up to date capacity factors derived from IEA WEO numbers. This is required in order to calculate profits on actual quantities produced, not theoretical capacities.</p>
<p>Output Columns:</p>
<ul>
<li>scenario (transition scenario for which the capacity factors apply)</li>
<li>scenario_geography (geographic region for which the capacity factors apply)</li>
<li>technology (usually the PACTA sectors with production pathways)</li>
<li>year (temporal change of capacity factors)</li>
<li>capacity_factor (a number indicating the average power generation per unit of capacity)</li>
</ul>
<p><strong>Scenario data</strong> that covers production road maps for all technologies that are to be analysed up until 2040. The scenario data need to cover those road maps for the scenarios selected in the parameter files and should follow the structure found in Scenarios_AnalysisInput_YYYY.csv. This data is used to extrapolate the production trajectories for companies beyond the PACTA time frame.</p>
<p><strong>Price data</strong> trajectories found in the file prices_data_YYYYQQ.csv, which contains projections of market prices per technology from the start data of the analysis until the year 2040. This is another required input to obtain profits. This will likely change in the future.</p>
<p><strong>Net profit margins</strong> are loaded via the model_parameters.yml file up until now. This may change in the future.</p>
<p><strong>Excluded companies</strong> in case a specific company-technology combination cannot be covered by the model either due to lack of data on the company side or because of other input data gaps, the combination of caompany_name and technology can be specified to be excluded from risk calculations. Such situations can be relevant for example when a company conducts business predominantly in one country that follows transition policies are laws that are not covered in the regionality of the business as usual and target scenarios. For instance, Germany is phasing out nuclear power in the first half of the 2020s. European and/or global scenarios do not capture this, although it can be seen in the relevant companies’ capex plans. Such situations can lead to unintended behaviour of the model and as such it seems reasonable not to shock this part of the business, especially since we usually model shocks happening beyond this time frame.</p>
<p><strong>Further notes on input data:</strong></p>
<ul>
<li>It is of particular importance that the start year of the analysis is available in the PACTA results, in the scenario data and in the price data. If either data set starts after the start year of the analysis, the work flow will not work.</li>
<li>Equally, the scenarios selected for the analysis must be given in the PACTA results as well as in the scenario data and the price data.</li>
</ul>
</div>
<div id="steps-1" class="section level4">
<h4 class="hasAnchor">
<a href="#steps-1" class="anchor"></a>Steps</h4>
<ul>
<li>Initialize project</li>
<li>Load project parameters</li>
<li>Load all project input data</li>
<li>Wrangle input data</li>
<li>Initialise empty results object</li>
<li>Loop over transition scenarios (as defined in transition_scenarios_input.csv), calculating and row-binding results to the results object. Calculation entails:
<ul>
<li>plucking a specific scenario definition from the transition scenarios to obtain model inputs (1)</li>
<li>calculating the corresponding price trajectories (2)</li>
<li>calculating the corresponding production trajectories on the company level (3)</li>
<li>joining the price trajectories to the production trajectories
(3)</li>
<li>joining net profit margins to the production and price trajectories (3)</li>
<li>calculating future net profits for the entire analysis time frame (3)</li>
<li>calculate discounted net profits for the entire analysis time frame, using the DCF model (3)</li>
<li>plucking the portfolio share (plan_carsten) of each company from the pacta data input (4)</li>
<li>calculating value changes and percentage losses per transition scenario, by combining company level DCF output with portfolio share of the corresponding holdings (6)</li>
<li>Calculate annual PD changes per company-technology for 1 year maturities (7)</li>
<li>Calculate overall PD changes per company-technology and maturity
(7)</li>
<li>Calculate changes in the expected loss based on overall PD changes (7)</li>
</ul>
</li>
<li>write company-tech level results to initialized project folder</li>
<li>write portfolio-tech level results to initialized project folder</li>
<li>save graphs to initialized project folder <strong>OPEN</strong>
</li>
</ul>
</div>
<div id="output-files-1" class="section level4">
<h4 class="hasAnchor">
<a href="#output-files-1" class="anchor"></a>Output files</h4>
<p>Describe structure and interpretation of output files <strong>OPEN</strong></p>
</div>
</div>
<div id="a-note-on-pacta-cop-projects-on-the-2dii-platform" class="section level3">
<h3 class="hasAnchor">
<a href="#a-note-on-pacta-cop-projects-on-the-2dii-platform" class="anchor"></a>A note on PACTA COP projects on the 2DII platform</h3>
<p>Whenever a new PACTA COP project starts on the transition monitor that requires the calculation of a transition risk stress test, a parameter file has to be added to the <code>./model_parameters/</code> directory. Usually, the existing files only have to be adapted to reflect the tag of the new project. When in doubt, please contact Jacob.</p>
</div>
<div id="litigation-risk" class="section level3">
<h3 class="hasAnchor">
<a href="#litigation-risk" class="anchor"></a>Litigation Risk</h3>
<div id="context" class="section level4">
<h4 class="hasAnchor">
<a href="#context" class="anchor"></a>Context</h4>
<p>Past and future contributions by companies to climate change may become financial liabilities, if current or future lawsuits succeed in holding them accountable for damages caused by climate change or additional costs caused by increased required mitigation and adaptation efforts. It is not yet absolutely certain how the climate costs caused by companies will be measured and consequently translated into damages.</p>
<p>Options include accounting of historical responsibilities and/or forward-looking approaches that use the misalignment of the production plans of a company with its climate targets (e.g. based on the “market share approach” used in PACTA) as the foundation to deduce company level contribution to climate costs and corresponding liability risks.</p>
<p>We provide suggestions for such calculations based on three different models. These are the Historical Emissions Responsibility model, the Social Cost of Carbon model and the Carbon Delta Damages model. Litigation scenarios will then depend on which (combination of) models are applied to calculate costs and a set of global and model-specifc parameters to be described below.</p>
</div>
<div id="models" class="section level4">
<h4 class="hasAnchor">
<a href="#models" class="anchor"></a>Models</h4>
<p>All models and their rationale are explained in more detail in a paper that 2DII will publish in 2021. Note that the code related to climate litigation risk in its current state replicates the calculations put forward in the publication. It will undergo some refactoring to ensure better usability with other data sets. The input data is stored in another repository, <code>r2dii.stress.test.data</code>.</p>
<div id="social-cost-of-carbon-scc-model" class="section level5">
<h5 class="hasAnchor">
<a href="#social-cost-of-carbon-scc-model" class="anchor"></a>Social cost of carbon (SCC) model</h5>
<p>In this forward looking approach, we calculate the emissions associated with the misalignment of the production plans of companies with the allowed emissions per company relative to a target scenario. This makes use of the (technology-)company level PACTA results to determine the allowed company level targets and their yearly emissions overshoot relative to those targets in tons of CO2 for the following five years.</p>
<p>Each excess ton of CO2 is priced with the social cost of carbon and a settlement multiplier accounts for residual impacts that may reduce an actual amount paid in a settlement (such factors may include uncertainty about the attribution of damages, jurisdictional factors, etc.).</p>
</div>
<div id="historical-emissions-responsibilities-her-model" class="section level5">
<h5 class="hasAnchor">
<a href="#historical-emissions-responsibilities-her-model" class="anchor"></a>Historical emissions responsibilities (HER) model</h5>
<p>Another possible way to to quantify the climate-related costs produced by a company is by using backward looking data that covers the overall emissions some of the most climate relevant companies have produced in the past. Heede et al. (2017) have estimated such emissions in the Carbon Majors study. The data is updated roughly on a yearly basis on the Carbon Majors website. The amount of historical CO2 emitted per company could then be priced, e.g. with a social cost of carbon or with some share of the overall responsibility for the impacts of climate change to date. Overall, regardless of which way of pricing is chosen, the cost a company faces in this model depends on how much CO2 emissions it is historically liable for, while the price is an exogenous input to the model.</p>
<p>We calculate the costs once by applying a price of 40 USD / tCO2 for the historically emitted CO2 of each company, based on the cost used in the SCC model.</p>
<p>A second approach is to calculate the share of the CO2 emissions for each of these companies relative to the overall amount of CO2 emitted in the past to determine their relative contributions to global warming thus far. This contribution is then multiplied with a proxy for overall economic costs up until the start year of the analysis. We use an estimate by Morgan Stanley (2019) to obtain global climate change related costs of USD 650 billion for the past three years and extend this time frame to 10 years for the analysis, roughly yielding overall costs of USD 2 trillion.</p>
<p>The exact magnitude of these costs may be subject to discussions, as is the SCC, which is why we allow the user to set these costs as a parameter in the scenarios.</p>
</div>
<div id="carbon-delta-damages-cdd-model" class="section level5">
<h5 class="hasAnchor">
<a href="#carbon-delta-damages-cdd-model" class="anchor"></a>Carbon delta damages (CDD) model</h5>
<p>In this forward looking approach, we calculate the emissions associated with the misalignment of the production plans of companies with the allowed emissions per company relative to a target scenario. This makes use of the (technology-)company level PACTA results to determine the allowed company level targets and their yearly emissions overshoot relative to those targets in tons of CO2 for the following five years.</p>
<p>This overshoot is compared to the total remaining CO2 budgets (based on the IPCC Special Report: Global Warming of 1.5°C, 2019) to move from the target scenario to some more adverse climate scenario (e.g. from a 1.5°C outcome to a 2°C or to a 4°C outcome). In this way, we get the relative contribution of a company to an increased global warming from 1.5°C to another temperature outcome.</p>
<p>This relative contribution to the additional increase in global temperatures is then used to calculate the company level added overall economic costs due to this additional warming. We use the overall costs for such an increase in global temperatures from Burke et al. (2018).</p>
<p>This leads us to a measurement of costs produced at the company level and multiplying with a settlement factor again accounts for residual uncertainty on multiple levels.</p>
</div>
<div id="notes-on-capping-the-liabilities-in-the-forward-looking-models-cddscc" class="section level5">
<h5 class="hasAnchor">
<a href="#notes-on-capping-the-liabilities-in-the-forward-looking-models-cddscc" class="anchor"></a>Notes on capping the liabilities in the forward looking models (CDD/SCC):</h5>
<p><strong>Implied upper limit of liabilities</strong></p>
<p>In the CDD model, both the additional carbon budget and the additional economic costs of moving from a target scenario to a more adverse scenario are capped at the outcome of that adverse scenario.</p>
<p>This implies that a company cannot be held accountable for contributing to an even higher temperature outcome, should it produce more emissions than expected even under the adverse scenario. Until there is a way to calculate such an impact with a continuous outcome endogenously, this will likely be the case to some degree - regardless of what the most adverse scenario is defined as.</p>
<p>This is not technically necessary in the SCC model, as it does not directly rely on carbon budgets of adverse scenarios or global costs associated with those scenarios.</p>
<p>Nevertheless, calculations of SCC liabilities are currently also capped at the upper end at level of the carbon budget of the adverse scenario. This ensures comparability between the scenarios, but may be an assumption the user could handle differently when applying the SCC model.</p>
<p><strong>Lower limit of liabilities</strong></p>
<p>We also limit the company level liability on the lower end. If a company emits less CO2 then it could based on the market share approach in the target scenario, it will simply have zero liability.</p>
</div>
</div>
<div id="scenarios" class="section level4">
<h4 class="hasAnchor">
<a href="#scenarios" class="anchor"></a>Scenarios</h4>
<p>In the basic work flow, we devise a few scenarios based on the SCC and CDD methods to calculate company level carbon liabilities and deduce litigation risk as an absolute value in USD. The carbon liabilities are also calculated as a relative value compared to the yearly operating profit (EBIT) of each analyzed company.</p>
</div>
<div id="model-assumptions" class="section level4">
<h4 class="hasAnchor">
<a href="#model-assumptions" class="anchor"></a>Model assumptions</h4>
<p><strong>Company level costs/liabilties:</strong></p>
<ul>
<li><p>For the forward looking analyses, we consider an overall time frame from 2019 to 2040 (plus a terminal value to capture the more distant future).</p></li>
<li><p>We use B2DS, SDS and CPS scenario data provided by the IEA to define target and adverse scenarios. In principle, any scenario that is compatible with PACTA would work with this model.</p></li>
<li><p>We assume the B2DS scenario corresponds roughly to a 1.5°C temperature increase outcome, at a probability of roughly 66%. This is our target scenario, against which litigation risk can be built up.</p></li>
<li><p>We assume the adverse scenarios can either be the SDS scenario, which we roughly equate with a 2°C temperature rise, and the CPS scenario, which we use to model a pathway towards a 4°C increase in global temperature - each at a probability of around 66%.</p></li>
<li><p>We acknowledge that this is a broad simplification.</p></li>
<li><p>We use PACTA to determine the yearly emissions overshoot by company, based on climate alignment metrics.</p></li>
<li><p>For the time being, we use 2019-2023 data to calculate the overshoot, but ideally this would be a calculation that starts from the year 2015, in order to capture the contribution since the Paris Agreement was ratified and climate targets were agreed upon.</p></li>
<li><p>The social cost of carbon is still a hotly debated number. We will use 20 and 40 USD/tCO2, both of which are likely conservative estimates.</p></li>
<li><p>The total CO2 budgets required to move from a 1.5°C scenario to either a 2°C or a 4°C scenario are taken from the IPCC Special Report: Global Warming of 1.5°C (2019).</p></li>
<li><p>Finally, the economic costs incurred by moving to one of these more adverse scenarios, is based on calculations from Burke et al. (2018).</p></li>
<li><p>For the historical responsibility model, we use past emissions data from Heede et al. (2017). This could in theory be substituted for another data set, possibly more comprehensive in terms of companies covered. Historical emissions in million tCO2 are based on scope 1 plus scope 3 emissions.</p></li>
<li><p>Damages in the historical model are either priced with a fixed cost for a ton of emitted CO2 (for comparability with the SCC model, we use USD 40 / tCO2 here as well).</p></li>
<li><p>Alternatively, they are calculated by multiplying the historical share of emissions of the company with a proxy for global costs of climate change thus far.</p></li>
<li><p>Global costs of climate change are approximated based on a study by Morgan Stanley (2019) that puts the cost for the previous three years at USD 650 billion. Extending this time frame to 10 years leads to roughly USD 2 trillion in climate change costs thus far. The length and yearly costs are parameters the user can adjust.</p></li>
<li><p>We assume the settlement factor is 2.7%, using the Tobacco Master Settlement Agreement as a historical indicator on which to base this assumption.</p></li>
<li>
<p>The settlement factor is treated as a catch all variable that acknowledges that the costs we calculate per company are likely not going to have to be repaid in full - at least not on average. In general, we assume that the more indirect an impact is, the likelier a settlement factor closer to 0 percent of the liability than to 100 percent. The reasons for that are:</p>
<ul>
<li>National jurisdictions are likely going to treat such costs very differently.</li>
<li>The attribution of responsibility for climate damages is still somewhat imprecise (indirect impact). As such, the analytic approach might be challenged in court. However, legal uncertainties are beyond the scope of the analysis at this point.</li>
<li>When using forward looking production data, there is no guarantee that a production site will emit the exact emissions related to its production plans.</li>
<li>If companies change strategies within the time frame analyzed, production profiles may materialize differently. However, assumptions around business planning are static in this model. Of course, such strategic changes are to some degree a desired outcome and this paper aims to help companies and investors identify options for such changes before the liability risk materializes.</li>
<li>Externally sourced data on the carbon budgets for each of the scenarios and the associated global economic damages also have a degree of uncertainty.</li>
</ul>
</li>
</ul>
<p><strong>Company level impact on share prices:</strong></p>
<ul>
<li>We employ a simple DCF model for the company valuation.</li>
<li>For each scenario, we use this to calculate the NPV of the company in case of a litigation event at a given point in time in the future and under a baseline scenario without any litigation.</li>
<li>These changes of value in the litigation scenario relative to the baseline scenario determine the value change of the company.</li>
<li>We assume the EBIT/dividends of the company grows at a yearly rate of 2%.</li>
<li>EBIT and dividends are henceforth used interchangeably, implying that a company pays out its full profits as dividends. This is, of course, a simplification.</li>
<li>In the shock year, the company level total amount of litigation liability is subtracted from the dividends of that year as a one time event. After that, the company continues to grow its dividends as before (This assumption could follow another dynamic in future version of the model).</li>
<li>We further assume a discount factor of 3%.</li>
<li>10% of the NPV is included in the terminal value factor.</li>
</ul>
<p><strong>Portfolio level impact of a litigation event:</strong></p>
<ul>
<li>We use the company level shocks in percentage value loss of the equity to estimate the impact on a portfolio that holds stocks in that company. We assume this shock is translated to the value of a portfolio proportionately by the value share this stock represents in the portfolio.</li>
<li>This allows us to use the PACTA analysis results for a portfolio to obtain the value share of the equity of a company as part of the portfolio. We use this share and apply the shocks to the equity value of the company. This can be done for all relevant companies in the portfolio, making use of the plan_carsten metric as the value share (aggregated from the technology-company level to company level where necessary).</li>
</ul>
<p><strong>The outcome indicators are:</strong></p>
<ul>
<li>xyz_liability: The cost of climate damages produced by the company at hand in USD (xyz stands for the model).</li>
<li>xyz_liability_perc_ebit: The climate liability of a company as a percentage of their EBIT in the start year of the analysis(xyz stands for the model). This allows for a comparison between companies.</li>
<li>percentage_value_change: The impact of the litigation shock on the total value of the listed equity related to the company.</li>
<li>value_change: The expected loss of value in a portfolio that contains shares in the equity of one of the analyzed companies - due to climate litigation.</li>
</ul>
<div id="user-settings" class="section level5">
<h5 class="hasAnchor">
<a href="#user-settings" class="anchor"></a>User settings</h5>
<p>The user can set several parameters in order to reflect their beliefs about litigation events in a scenario. This is particularly helpful to understand how such beliefs compare to our default settings and to understand the sensitivities of the model.</p>
<p>In general, results for multiple scenarios can be calculated at a time. Some of the parameters are set at a global level though, whereas some other ones are set at the scenario level.</p>
<p><strong>Global parameters include:</strong></p>
<ul>
<li>
<em>chance_within_target:</em> Chance to stay within temperature target (this selects the scenario-to-scenario CO2 budgets).</li>
<li>
<em>start_year</em> of the analysis (explicit forecast period).</li>
<li>
<em>end_year</em> of the analysis (explicit forecast period).</li>
<li>
<em>years_to_litigation_event</em> after the start year.</li>
<li>
<em>settlement_factor</em> to apply to the litigation value to be paid out in the DCF model. This allows for easy adjustments of the expected percentage of damages paid out.</li>
<li>
<em>growth_rate</em> of the dividends per year in the DCF.</li>
<li>
<em>discount_rate</em> of the dividends per year in the DCF.</li>
<li>
<em>percentage_in_terminal_value</em> to account for future years after explicit forecast period in the NPV of a company based on the DCF.</li>
<li>
<em>backwards_years:</em> The length of the time frame in years for which to extrapolate past global costs of climate change.</li>
<li>
<em>reset_post_settlement:</em> How to proceed with company income projections after a settlement takes place. “no” will lead to continued growth according to the growth rate and implies a new buildup of litigation risk. “start” resets the dividends to the EBIT value in the first year of the analysis and resumes growth according to the growth rate from there. This is a rough proxy for the company following allowed targets post settlement. Further option needs to be added to properly reflect a company that adjusts to the emissions levels it is granted based on the target scenario and the market share approach. Currently, this also happens for the HER model.</li>
</ul>
<p><strong>Scenario level parameters include:</strong></p>
<ul>
<li>
<em>litigation_scenario:</em> Name of the scenario, currently following the convention MODELTYPE_SETTLEMENT, with model type either being CDD or SCC_XY, XY indicating the USD value of the social cost of carbon applied. Settlement indicates the rule applied to account for uncertainties in the amount of the costs caused that will have to be paid out, e. g. TMS.</li>
<li>
<em>model:</em> Name of the model to apply in the calculation of the company level climate liabilities. Currently the choice is between “CDD” and “SCC”.</li>
<li>
<em>exp_share_damages_paid:</em> Share of the cost caused by a company likely to be paid out in settlement, currently defaults to 0.027 which reflects the Tobacco Master Settlement Agreement (TMS).</li>
<li>
<em>scc:</em> Social Cost of Carbon, price of one ton of excess CO2 emissions in USD.</li>
<li>
<em>timeframe_emissions_overshoot:</em> Number of years considered in the calculation of the production overshoot, based on which we calculate the annual excess CO2 emissions. As per standard PACTA settings, this defaults to 5 years.</li>
<li>
<em>past_yearly_costs_usd:</em> Annual global costs of climate change in USD thus far. Defaults to the value from Morgan Stanley (2019). A multiple of this cost and number of years to consider in the HER model is used to approximate the overall global costs of climate change companies can historically be held accountable for.</li>
</ul>
</div>
</div>
<div id="data-input-requirements" class="section level4">
<h4 class="hasAnchor">
<a href="#data-input-requirements" class="anchor"></a>Data input requirements</h4>
<p><strong>litigation_risk_scenarios:</strong> A csv file with columns “litigation_scenario”, “model”, “exp_share_damages_paid”, “scc”, “timeframe_emissions_overshoot”, “past_yearly_costs_usd” of data type “ccdddd”. This table contains the scenario level parameters used to describe different scenarios for which to run the analysis. One line corresponds to one scenario being run. There is no limit on how many scenarios can be added to this file. Scenarios can be defined by the user and do not necessarily follow an external ground truth. It is recommended though to set the parameters in line with at least imaginably realistic values based on the literature and/or worst case settings in case this is used for stress testing.</p>
<p><strong>company_emissions_data_input:</strong> For each asset type, an rda file with the following columns:</p>
<ul>
<li>investor_name = “c”</li>
<li>portfolio_name = “c”</li>
<li>company_name = “c”</li>
<li>id = “c”/“d” (depending on asset type)</li>
<li>scenario = “c”</li>
<li>allocation = “c”</li>
<li>asset_type = “c”</li>
<li>scenario_geography = “c”</li>
<li>equity_market = “c”</li>
<li>year = “d”</li>
<li>financial_sector = “c”</li>
<li>ald_sector = “c”</li>
<li>technology = “c”</li>
<li>plan_tech_prod = “d”</li>
<li>plan_emission_factor = “d”</li>
<li>scen_tech_prod = “d”</li>
<li>scen_emission_factor = “d”</li>
<li>plan_carsten = “d”</li>
</ul>
<p>These files are sourced from PACTA projects and correspond to company level PACTA result files (for P4I). They gives us the production forecasts per company, as well as the allowed production trajectories for each scenario per company. Together with the planned average emission factors and the allowed emission factors by scenario, we deduce the emissions overshoot based on this. We also get the exposure of the portfolio by company and technology from this file.</p>
<p><strong>sector_eposures:</strong> The sectorial exposures of the portfolio by asset type:</p>
<ul>
<li>investor_name = “c”</li>
<li>portfolio_name = “c”</li>
<li>company_name = “c”</li>
<li>asset_type = “c”</li>
<li>financial_sector = “c”</li>
<li>valid_input = “l”</li>
<li>valid_value_usd = “d”</li>
<li>asset_value_usd = “d”</li>
<li>portfolio_value_usd = “d”</li>
</ul>
<p>This file is sourced from PACTA projects and corresponds to sector level portfolio overview files, based on the processed inputs of a P4I project.</p>
<p><strong>company_ebit_data_input:</strong> A csv file with the following columns:</p>
<ul>
<li>“company_name”</li>
<li>"isin</li>
<li>“ebit”</li>
<li>"currency</li>
<li>“sector”</li>
</ul>
<p>… of type “ccdcc”. The data is based on three input data sets. The main data set is an extract from Bloomberg (can be any other financial data set) that contains the columns:</p>
<ul>
<li>Name = “c”</li>
<li>ISIN = “c”</li>
<li>Curncy = “c”</li>
<li>Revenue = “d”</li>
<li>EBIT = “d”</li>
</ul>
<p>This is merged with exchange rate infos from a currencies data set by joining on the 3 digit currency acronym. Additionally, we merge sector information based on the security_financial_data file by isin. We use this data to classify the main sector a company is operating in and to obtain the EBIT in the start year of the analysis.</p>
<p><strong>carbon_delta_plus_damages:</strong> A csv file with the following columns (sources or comments):</p>
<ul>
<li>“start_scenario” (actual target scenario, change wording)</li>
<li>“target_scenario” (more adverse scenario, change wording)</li>
<li>“target_temp_rise” (temp rise over pre-industrial levels in adverse scenario, change wording)</li>
<li>“likelihood_stay_within_target” (likelihood to stay within temperature target of adverse scenario with the given carbon budget)</li>
<li>“delta_carbon_budget” (based on IPCC SR: Gloabl Warming of 1.5°C, 2019)</li>
<li>“delta_econ_damages_usd” (based on calculations by Burke et al., 2018)</li>
</ul>
<p>… of type “ccdddd”. The table provides information about the total carbon budgets in tons of CO2, that correspond to moving from one scenario outcome to another. This can be understood as the carbon budget of moving from a target scenario to a more adverse scenario. Such budgets are needed for the attribution of costs in the CDD model. The table also provides information on the global magnitude of costs (in mitigation and adaptation) related to moving from one scenario to a more adverse scenario. This is required information to deduce the company level cost based on the attributed contribution the company has in moving to that more adverse scenario.</p>
<p>The table has one row each to describe the corresponding carbon budget and economic costs of moving from a target scenario to a more adverse scenario. This means that in principle there is no limit to the number of rows. It is required though, that information for the scenarios (target and adverse, possibly in-between) used in the analysis (as selected by the parameters) be given.</p>
<p><strong>historical_emissions_heede_2017:</strong> A csv file with the following columns (sources or comments):</p>
<ul>
<li>“company_name”</li>
<li>“scope_1”</li>
<li>“scope_3”</li>
<li>“scope_1_plus_3”</li>
<li>“share_global_industrial_ghg”</li>
</ul>
<p>All values are based on Heede et al. (2017).</p>
</div>
<div id="steps-in-calculating-company-level-liabilities" class="section level4">
<h4 class="hasAnchor">
<a href="#steps-in-calculating-company-level-liabilities" class="anchor"></a>Steps in calculating company level liabilities</h4>
<p>The company level emissions overshoot is calculated by multiplying the 5-year production plans (current_production) on the technology-company level with the average emissions factors for each technology (avg_ef). Similarly, multiplying fair share production levels (allowed_production_SCENARIO) for the company with the average emissions factors give the allowed emissions a company is granted to stay within its budget given a target scenario. Any actual emissions above such a budget are considered a CO2 overshoot relative to that scenario. Accordingly we get overshoots relative to multiple outcomes:</p>
<ul>
<li>overshoot_actual_b2ds</li>
<li>overshoot_actual_sds</li>
<li>overshoot_actual_cps</li>
</ul>
<p>For the SCC approach, the company level liability (scc_liability) is now calculated by multiplying the average yearly overshoot over the target scenario (overshoot_actual_b2ds/5) with the SCC value in USD/tCO2 defined for the scenario and with the expected share of the damages paid out in a settlement (exp_share_damages_paid). The share of this liability relative to the annual EBIT of a company is calculated using:</p>
<p>scc_liability_perc_ebit = scc_liability / ebit</p>
<p>For the CDD approach, the company level contribution to moving from the target scenario to a more adverse scenario is first determined as:</p>
<p>overshoot_delta_TARGET_ADVERSE / delta_carbon_budget_TARGET_ADVERSE</p>
<p>… both of which are in units of tCO2. This share of contribution is then then multiplied with the overall cost of reaching that adverse outcome compared to the target scenario (delta_carbon_damage_TARGET_ADVERSE) to obtain damage_ADVERSE_TARGET. This is the estimated cost caused by the misalignment of a company in USD. Finally, we again multiply with the expected share of the damages paid out in a settlement (exp_share_damages_paid) to get cdd_liability. The share of this liability relative to the annual revenue of a company is calculated using:</p>
<p>cdd_liability_perc_ebit = cdd_liability / ebit</p>
<p>For the HER approach, we either use the overall company level historical CO2 emissions and multiply this with a price per tCO2, similar to the SCC approach. Or we determine the past share of the contribution to current levels of climate change by company and multiply that share with a proxy for total costs of climate change thus far (as explained above). The choice between these methods is made by checking the scenario level parameters for the HER model. If the “scc” entry is positive AND the yearly costs are zero, the historical emissions are multiplied with an SCC price. If the reverse is true, the historical share of emissions and global costs are used. If neither is true, the scenario definition is faulty and the calculation is skipped.</p>
<p>Finally, we again multiply with the expected share of the damages paid out in a settlement (exp_share_damages_paid) to get her_liability. The share of this liability relative to the annual profits of a company is calculated using:</p>
<p>her_liability_perc_ebit = her_liability / ebit</p>
</div>
<div id="steps-in-calculating-impact-on-company-share-prices" class="section level4">
<h4 class="hasAnchor">
<a href="#steps-in-calculating-impact-on-company-share-prices" class="anchor"></a>Steps in calculating impact on company share prices</h4>
<p>Once we have calculated a carbon liability or a social cost the company has caused with regard to climate change, we want to determine in a next step how a litigation event could impact the share price of the company. This is an essential step towards understanding the potential financial damage caused by a company building up litigation risk because it allows us to understand how such a risk would propagate to the value of portfolios, should it materialize.</p>
<p>We employ a simple DCF model to calculate that impact with the following default assumptions:</p>
<ul>
<li>start year of the forecast: 2019</li>
<li>end year of the forecast: 2040</li>
<li>years until litigation event: 5</li>
<li>settlement factor (to vary scenarios of share of damages paid out): 1</li>
<li>growth rate of annual dividends: 0.02</li>
<li>discount rate: 0.03</li>
<li>percentage of the NPV in the terminal value: 0.1</li>
</ul>
<p>We use the EBIT of 2019 of the company as the starting point to apply the DCF. First we get the future net cash flows by applying the growth rate. We then subtract the settlement amount calculated in the first part of the exercise from the EBIT in the year of the litigation event.</p>
<p><strong>NOTE:</strong> we are currently applying the years_until_litigation factor to HER calculations as well. This may have to be changed, if it is decided these liabilities should not grow anymore.</p>
<p>After the litigation event, the net dividends of the company continue to grow at the indicated annual growth rate. At the moment, the level of dividends at that point in time is not reset, which implies the company continues to build up litigation risk after the settlement. If it is a requirement in the future to reflect that companies follow their targets after the litigation, this mechanism still has to be implemented.</p>
<p>We then discount the dividends of each year (once with litigation, once without), to obtain the net present values for a baseline scenario without litigation and for the litigation scenario as defined by the parameters.</p>
<p>These NPVs are used to compute the percentage value change between the scenarios. Such value changes can, in certain cases, be more than 100%, which would translate into the bankruptcy of the company. The model may not reflect all mechanisms at play in determining such an outcome.</p>
</div>
<div id="steps-in-calculating-impact-on-portfolios-of-shareholders" class="section level4">
<h4 class="hasAnchor">
<a href="#steps-in-calculating-impact-on-portfolios-of-shareholders" class="anchor"></a>Steps in calculating impact on portfolios of shareholders</h4>
<p>Ultimately, a large part of the cost to the companies produced by such a settlement will be carried by the shareholders of the company. For that reason, we need to be able to translate the equity impact from the share price level to the portfolio level. We do this in a very straightforward manner, using information generated from a PACTA analysis of a portfolio. This analysis provides us with a variable that gives us the value share of the overall portfolio for each company-technology combination. If we aggregate this to the company level, we can deduce the share of the portfolio value that this asset accounts for and thus we know how large the exposure to the asset at risk is within the portfolio (company_exposure = plan_carsten * portfolio_aum).</p>
<p>The expected loss on the portfolio level is then calculated as:</p>
<p>expected loss = share price change * company exposure</p>
<p>By default, the module will estimate that impact for all relevant companies in the portfolio at hand.</p>
<hr>
<p><a href="https://github.com/2DegreesInvesting/r2dii.climate.stress.test/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jacob Kastl <br><small class="roles"> Author, maintainer </small>  </li>
<li>2 Degrees Investing Initiative <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/2DegreesInvesting/r2dii.climate.stress.test/actions"><img src="https://github.com/2DegreesInvesting/r2dii.climate.stress.test/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Jacob Kastl, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
